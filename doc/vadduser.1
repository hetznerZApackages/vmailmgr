.rn '' }`
''' $RCSfile$$Revision$$Date$
'''
''' $Log$
'''
.de Sh
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp
.if t .sp .5v
.if n .sp
..
.de Ip
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb
.ft CW
.nf
.ne \\$1
..
.de Ve
.ft R

.fi
..
'''
'''
'''     Set up \*(-- to give an unbreakable dash;
'''     string Tr holds user defined translation string.
'''     Bell System Logo is used as a dummy character.
'''
.tr \(*W-|\(bv\*(Tr
.ie n \{\
.ds -- \(*W-
.ds PI pi
.if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\" diablo 12 pitch
.ds L" ""
.ds R" ""
'''   \*(M", \*(S", \*(N" and \*(T" are the equivalent of
'''   \*(L" and \*(R", except that they are used on ".xx" lines,
'''   such as .IP and .SH, which do another additional levels of
'''   double-quote interpretation
.ds M" """
.ds S" """
.ds N" """""
.ds T" """""
.ds L' '
.ds R' '
.ds M' '
.ds S' '
.ds N' '
.ds T' '
'br\}
.el\{\
.ds -- \(em\|
.tr \*(Tr
.ds L" ``
.ds R" ''
.ds M" ``
.ds S" ''
.ds N" ``
.ds T" ''
.ds L' `
.ds R' '
.ds M' `
.ds S' '
.ds N' `
.ds T' '
.ds PI \(*p
'br\}
.\"	If the F register is turned on, we'll generate
.\"	index entries out stderr for the following things:
.\"		TH	Title 
.\"		SH	Header
.\"		Sh	Subsection 
.\"		Ip	Item
.\"		X<>	Xref  (embedded
.\"	Of course, you have to process the output yourself
.\"	in some meaninful fashion.
.if \nF \{
.de IX
.tm Index:\\$1\t\\n%\t"\\$2"
..
.nr % 0
.rr F
.\}
.TH VADDUSER 1 "vmailmgr 0.96.8" "1/Apr/2000" "VMailMgr Tools Documentation"
.UC
.if n .hy 0
.if n .na
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.de CQ          \" put $1 in typewriter font
.ft CW
'if n "\c
'if t \\&\\$1\c
'if n \\&\\$1\c
'if n \&"
\\&\\$2 \\$3 \\$4 \\$5 \\$6 \\$7
'.ft R
..
.\" @(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2
.	\" AM - accent mark definitions
.bd B 3
.	\" fudge factors for nroff and troff
.if n \{\
.	ds #H 0
.	ds #V .8m
.	ds #F .3m
.	ds #[ \f1
.	ds #] \fP
.\}
.if t \{\
.	ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.	ds #V .6m
.	ds #F 0
.	ds #[ \&
.	ds #] \&
.\}
.	\" simple accents for nroff and troff
.if n \{\
.	ds ' \&
.	ds ` \&
.	ds ^ \&
.	ds , \&
.	ds ~ ~
.	ds ? ?
.	ds ! !
.	ds /
.	ds q
.\}
.if t \{\
.	ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.	ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.	ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.	ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.	ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.	ds ? \s-2c\h'-\w'c'u*7/10'\u\h'\*(#H'\zi\d\s+2\h'\w'c'u*8/10'
.	ds ! \s-2\(or\s+2\h'-\w'\(or'u'\v'-.8m'.\v'.8m'
.	ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.	ds q o\h'-\w'o'u*8/10'\s-4\v'.4m'\z\(*i\v'-.4m'\s+4\h'\w'o'u*8/10'
.\}
.	\" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds v \\k:\h'-(\\n(.wu*9/10-\*(#H)'\v'-\*(#V'\*(#[\s-4v\s0\v'\*(#V'\h'|\\n:u'\*(#]
.ds _ \\k:\h'-(\\n(.wu*9/10-\*(#H+(\*(#F*2/3))'\v'-.4m'\z\(hy\v'.4m'\h'|\\n:u'
.ds . \\k:\h'-(\\n(.wu*8/10)'\v'\*(#V*4/10'\z.\v'-\*(#V*4/10'\h'|\\n:u'
.ds 3 \*(#[\v'.2m'\s-2\&3\s0\v'-.2m'\*(#]
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.ds oe o\h'-(\w'o'u*4/10)'e
.ds Oe O\h'-(\w'O'u*4/10)'E
.	\" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.	\" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.	ds : e
.	ds 8 ss
.	ds v \h'-1'\o'\(aa\(ga'
.	ds _ \h'-1'^
.	ds . \h'-1'.
.	ds 3 3
.	ds o a
.	ds d- d\h'-1'\(ga
.	ds D- D\h'-1'\(hy
.	ds th \o'bp'
.	ds Th \o'LP'
.	ds ae ae
.	ds Ae AE
.	ds oe oe
.	ds Oe OE
.\}
.rm #[ #] #H #V #F C
.SH "NAME"
vadduser \- add a virtual user
.SH "SYNOPSYS"
\fBvadduser\fR
\fB[\-c | --msgcount count]\fR
\fB[\-D | --no-mailbox]\fR
\fB[\-d | --directory dir]\fR
\fB[\-e | --expiry seconds]\fR
\fB[\-f | --forward address]\fR
\fB[\-P | --no-password]\fR
\fB[\-p | --personal string]\fR
\fB[\-Q | --hardquota kbytes]\fR
\fB[\-q | --softquota kbytes]\fR
\fB[\-z | --msgsize kbytes]\fR
\fBusername\fR [\fBalias\fR ...]
.SH "DESCRIPTION"
This program is used to set up a user within a virtual host.
If this program is reading from a tty,
it will then ask for a password (twice, to make sure you typed it in
correctly), otherwise it will read the password from the input with no
prompting.
It will then
add the user to the virtual password table in the current
directory and create a mail directory for the new user.
It will also add an entry for each of the named aliases.
.SH "OPTIONS"
.Ip "-c count" 4
.Ip "--msgcount count" 4
Limit the number of messages in this user's mailbox to count.
.Ip "-D" 4
.Ip "--no-mailbox" 4
Do not create a mailbox for this user (forwards only).
.Ip "-d dir" 4
.Ip "--directory dir" 4
Set the path to the user's mailbox.
Note that this directory is unconditionally prefixed with \*(L"./\*(R".
.Ip "-e seconds" 4
.Ip "--expiry seconds" 4
Set the account to expire in the given number of seconds.
.Ip "-f address" 4
.Ip "--forward address" 4
Add a forwarding address to this user (this may be used multiple times).
.Ip "-P" 4
.Ip "--no-password" 4
Do not ask for a password, and instead set it to an unusable value.
.Ip "-p string" 4
.Ip "--personal string" 4
Set the user's personal information.
.Ip "-Q kbytes" 4
.Ip "--hardquota kbytes" 4
Set the hard quota value -- if the user's mailbox is this large or
larger, no more messages will be delivered to it.
.Ip "-q kbytes" 4
.Ip "--softquota kbytes" 4
Set the soft quota value -- if the user's mailbox is this large or
larger (but not larger than the hard quota), incoming messages will be
both bounced and received.
As well, an error message will be added to the user's mailbox.
.Ip "-z kbytes" 4
.Ip "--msgsize kbytes" 4
Set the largest message this user is allowed to receive.
.SH "RETURN VALUE"
0 if all steps were successful, non-zero otherwise.
If any of the steps fail, a diagnostic message is printed.
.SH "SEE ALSO"
\fIvsetup\fR\|(1)
.SH "NOTES"
You must have either created the users subdirectory by hand or run the
\fIvsetup\fR program before using this program.
.PP
This program expects the environment variable \f(CWHOME\fR to be set, and
executes a change directory to the contents of it before starting.  It
is also required that you change user to the domain owner before using
these utilities.
.SH "AUTHOR"
Bruce Guenter <\fIbruceg@em.ca\fR>.

.rn }` ''
.IX Title "VADDUSER 1"
.IX Name "vadduser - add a virtual user"

.IX Header "NAME"

.IX Header "SYNOPSYS"

.IX Header "DESCRIPTION"

.IX Header "OPTIONS"

.IX Item "-c count"

.IX Item "--msgcount count"

.IX Item "-D"

.IX Item "--no-mailbox"

.IX Item "-d dir"

.IX Item "--directory dir"

.IX Item "-e seconds"

.IX Item "--expiry seconds"

.IX Item "-f address"

.IX Item "--forward address"

.IX Item "-P"

.IX Item "--no-password"

.IX Item "-p string"

.IX Item "--personal string"

.IX Item "-Q kbytes"

.IX Item "--hardquota kbytes"

.IX Item "-q kbytes"

.IX Item "--softquota kbytes"

.IX Item "-z kbytes"

.IX Item "--msgsize kbytes"

.IX Header "RETURN VALUE"

.IX Header "SEE ALSO"

.IX Header "NOTES"

.IX Header "AUTHOR"

